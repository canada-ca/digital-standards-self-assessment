{"version":3,"sources":["webpack:///./src/views/Results.vue?44e5","webpack:///./src/components/ResultsCard.vue?970d","webpack:///./src/components/ResultRecommendations.vue?afcb","webpack:///./src/components/ResultRecommendations.vue","webpack:///./src/components/ResultRecommendations.vue?0a2d","webpack:///./src/components/ResultRecommendations.vue?99d6","webpack:///./src/components/ResultsCard.vue","webpack:///./src/components/ResultsCard.vue?62b9","webpack:///./src/components/ResultsCard.vue?b178","webpack:///./src/views/Results.vue","webpack:///./src/views/Results.vue?0792","webpack:///./src/views/Results.vue?f08e"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","undefined","currentSection","attrs","sectionName","userScore","getMaxScore","myRecommendations","locale","staticStyle","on","$event","goToQuestions","key","$route","path","goToHomePage","staticRenderFns","getSectionName","thisSurveyData","sectionScoreLevel","maxScore","showRecommendation","_e","sectionRecommendations","_l","getRecommendation","title","item","id","domProps","markdownToHtml","components","ResultRecommendations","methods","scoreLevel","sectionRec","find","section","name","recommendations","parseInt","marked","component","$store","getters","returnSurveyModel","ResultsCard","computed","surveyData","page","getPageByName","Intl","NumberFormat","style","maximumFractionDigits","format","myResults","resultsDataSections","Survey","$router","push","JSON","stringify","version","state","toolVersion","currentPage","currentPageNo","data","toolData","dataStr","buildSurveyFile","downloadAnchorNode","document","createElement","setAttribute","body","appendChild","click","remove","window","getElementById","$i18n","pageActions","getElementsByClassName","beforePrint","i","classList","add","afterPrint","addEventListener","print","removeEventListener","start","dispatch","UpdateSurveyData","resultDataSections","value","oldValue","onComplete","result","onValueChanged","converter","Converter","onTextMarkdown","survey","options","str","makeHtml","text","substring","length","html","i18n","onAfterRenderQuestion","sender","welcomePage","getElementsByName","welcomePageElement","removeAttribute","inProgress","fileLoaded","sectionNames","returnSectionsNamesGenerated","results","sections","returnAllSections","returnCurrentSection","questions"],"mappings":"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","file":"js/chunk-2d20f8f7.03d90ac3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"results\"},[_c('h1',[_vm._v(\" \"+_vm._s(_vm.$t(\"sectionResultsTitle\"))+\" \")]),_c('div',[(_vm.currentSection !== undefined)?_c('ResultsCard',{attrs:{\"section\":_vm.currentSection,\"section-name\":_vm.currentSection.sectionName,\"user-score\":_vm.currentSection.userScore,\"max-score\":_vm.getMaxScore(_vm.currentSection),\"my-recommendations\":_vm.myRecommendations,\"locale\":_vm.locale}}):_c('div',[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t(\"notice.noProgress\"))+\" \")])])],1),_c('div',{staticClass:\"page-actions\"},[_c('div',{staticClass:\"row\",staticStyle:{\"padding\":\"0 15px\"}},[_c('div',{staticClass:\"col-3 col-sm-2 col-md-3\"},[_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"width\":\"inherit\"},attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.goToQuestions()}}},[_vm._v(\" â‡  \"+_vm._s(_vm.$t(\"navigation.goBack\"))+\" \")])]),_c('div',{staticClass:\"col-3 col-sm-2 col-md-3\"},[_c('button',{key:_vm.$route.path,staticClass:\"btn btn-default\",staticStyle:{\"width\":\"inherit\"},attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.goToHomePage()}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"navigation.chooseAnotherSection\"))+\" \")])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',{staticClass:\"mt-2\"},[_c('b-card-header',{staticClass:\"h3\"},[_vm._v(\" \"+_vm._s(_vm.getSectionName(_vm.thisSurveyData, _vm.sectionName))+\" \")]),_c('b-card-body',[_c('p',{staticClass:\"h5\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"currentScore\"))+\": \"+_vm._s(_vm.sectionScoreLevel(_vm.userScore, _vm.maxScore))+\"% \")]),_c('p'),(!_vm.showRecommendation)?_c('ResultRecommendations',{attrs:{\"section-name\":_vm.sectionName,\"section-score-level\":_vm.sectionScoreLevel,\"section-recommendations\":_vm.myRecommendations.sectionRecommendations,\"locale\":_vm.locale}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-card-body',_vm._l((_vm.getRecommendation(\n        _vm.sectionRecommendations,\n        _vm.sectionName,\n        '0'\n      ).title[_vm.locale]),function(item){return _c('div',{key:item.id,domProps:{\"innerHTML\":_vm._s(_vm.markdownToHtml(item))}})}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { SectionRecommendation } from \"@/types\";\nimport { Vue, Component, Prop } from \"vue-property-decorator\";\n@Component({\n  components: {\n    ResultRecommendations\n  },\n  methods: {\n    /**\n     * Gets the recommendations based on the section name provided and the level achieved in the section\n     */\n    getRecommendation(\n      sectionRecommendations: SectionRecommendation[],\n      sectionName: string,\n      scoreLevel: string\n    ) {\n      let sectionRec = sectionRecommendations.find(section => {\n        return section.name == sectionName;\n      });\n      return sectionRec?.recommendations[parseInt(scoreLevel)];\n    },\n    markdownToHtml(item: string) {\n      const marked = require(\"marked\");\n      return marked(item)\n    }\n  }\n})\nexport default class ResultRecommendations extends Vue {\n  @Prop() public sectionRecommendations?: SectionRecommendation;\n  @Prop() public sectionName!: string;\n  @Prop() public sectionScoreLevel!: number;\n  @Prop() public locale!: any;\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultRecommendations.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultRecommendations.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ResultRecommendations.vue?vue&type=template&id=b5855f60&\"\nimport script from \"./ResultRecommendations.vue?vue&type=script&lang=ts&\"\nexport * from \"./ResultRecommendations.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Prop } from \"vue-property-decorator\";\nimport { SurveyModel } from \"survey-vue\";\nimport { Recommendations } from \"@/types\";\nimport ResultRecommendations from \"@/components/ResultRecommendations.vue\";\n@Component({\n  components: { ResultsCard, ResultRecommendations },\n  computed: {\n    showRecommendation: () => process.env.VUE_APP_SHOW_RECOMMENDATION\n  },\n  methods: {\n    getSectionName(surveyData: SurveyModel, sectionName: string) {\n      //TODO: validate if surveyData is undefined\n      let page = surveyData.getPageByName(sectionName);\n      return page.title;\n    },\n    sectionScoreLevel(userScore: number, maxScore: number) {\n      return new Intl.NumberFormat(\"en-CA\", {\n        style: \"decimal\",\n        maximumFractionDigits: 0\n      }).format((userScore / maxScore) * 100);\n    }\n  }\n})\nexport default class ResultsCard extends Vue {\n  @Prop() public sectionName!: string;\n  @Prop() public userScore!: number;\n  @Prop() public maxScore!: number;\n  @Prop() public myRecommendations!: Recommendations;\n  @Prop() public locale!: any;\n  thisSurveyData = this.$store.getters.returnSurveyModel;\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsCard.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsCard.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ResultsCard.vue?vue&type=template&id=181de3f4&\"\nimport script from \"./ResultsCard.vue?vue&type=script&lang=ts&\"\nexport * from \"./ResultsCard.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue, Watch } from \"vue-property-decorator\";\nimport { Model } from \"survey-vue\";\nimport showdown from \"showdown\";\nimport SurveyFile from \"@/interfaces/SurveyFile\";\nimport ResultsCard from \"@/components/ResultsCard.vue\";\nimport BaseNavigation from \"@/components/BaseNavigation.vue\";\nimport i18n from \"@/plugins/i18n\";\nimport surveyJSON from \"@/survey-enfr.json\";\nimport { Section } from \"@/types\";\nimport { ActionTypes } from \"@/store/actions\";\n\n@Component({\n  components: {\n    ResultsCard\n  },\n  computed: {\n    // TODO: This computed property is never used\n    sectionNames: function() {\n      return this.$store.getters.returnSectionsNamesGenerated;\n    },\n    results() {\n      return this.$store.getters.resultsDataSections;\n    },\n    sections() {\n      return this.$store.getters.returnAllSections;\n    },\n    currentSection() {\n      return this.$store.getters.returnCurrentSection;\n    },\n    myRecommendations() {\n      return this.$store.state.recommendations;\n    },\n    locale() {\n      return this.$i18n.locale;\n    }\n  },\n  methods: {\n    getMaxScore(section: Section) {\n      return section.questions.length * 5;\n    }\n  }\n})\nexport default class Results extends Vue {\n  @Prop() data: any;\n  @Prop() public section!: Section;\n  myResults = this.$store.getters.resultsDataSections;\n\n  Survey: Model = new Model(surveyJSON);\n  goToHomePage() {\n    this.$router.push(\"/\");\n  }\n  goToAllResults() {\n    this.$router.push(\"/Results\");\n  }\n  goToQuestions() {\n    this.$router.push(\"/Questions\");\n  }\n  buildSurveyFile(): string {\n    return JSON.stringify({\n      name: \"surveyResults\",\n      version: this.$store.state.toolVersion,\n      currentPage: this.$store.state.currentPageNo,\n      data: this.$store.state.toolData\n    });\n  }\n  downloadSurveyAnswer(): void {\n    const dataStr = \"data:text/json;charset=utf-8,\" + this.buildSurveyFile();\n    var downloadAnchorNode = document.createElement(\"a\");\n    downloadAnchorNode.setAttribute(\"href\", dataStr);\n    downloadAnchorNode.setAttribute(\"download\", \"result.json\");\n    document.body.appendChild(downloadAnchorNode); // required for firefox\n    downloadAnchorNode.click();\n    downloadAnchorNode.remove();\n  }\n  // async saveSurveyData(): Promise<boolean> {\n  //   var responseStatus: boolean = false;\n  //   const saveFile = this.buildSurveyFile();\n\n  //   var requestOptions = {\n  //     method: \"POST\",\n  //     headers: {\n  //       \"Content-Type\": \"application/text\"\n  //     },\n  //     mode: \"no-cors\" as RequestMode,\n  //     name: \"surveyData\",\n  //     body: saveFile\n  //   };\n  //   await fetch(\n  //     \"https://doraselfassessment.azurewebsites.net/api/saveselfassessment\",\n  //     requestOptions\n  //   ).then(function(response) {\n  //     if (response.status === 200) {\n  //       responseStatus = true;\n  //     }\n  //   });\n  //   return responseStatus;\n  // }\n\n  /**\n   * Export survey result.\n   */\n  exportResults() {\n    const source = window.document.getElementById(\n      this.$i18n.locale + \"-content\"\n    ) as HTMLElement;\n\n    let pageActions = window.document.getElementsByClassName(\"page-actions\");\n\n    function beforePrint() {\n      for (let i in pageActions) {\n        if (pageActions[parseInt(i)].classList) {\n          pageActions[parseInt(i)].classList.add(\"hidden\");\n        }\n      }\n    }\n\n    function afterPrint() {\n      for (let i in pageActions) {\n        if (pageActions[parseInt(i)].classList) {\n          pageActions[parseInt(i)].classList.remove(\"hidden\");\n        }\n      }\n    }\n\n    window.addEventListener(\"beforeprint\", beforePrint, false);\n    window.addEventListener(\"afterprint\", afterPrint, false);\n\n    window.print();\n\n    window.removeEventListener(\"beforeprint\", beforePrint);\n    window.removeEventListener(\"afterprint\", afterPrint);\n  }\n  // Feature disabled, will be removed from store actions\n  // startAgain() {\n  //   this.Survey.clear(true, true);\n  //   window.localStorage.clear();\n  //   this.$store.commit(\"resetSurvey\");\n  //   this.$router.push({ path: \"/\" });\n  // }\n  fileLoaded($event: SurveyFile) {\n    this.Survey.data = $event.data;\n    this.Survey.currentPageNo = $event.currentPage;\n    this.Survey.start();\n    // this.$store.commit(\"calculateResult\", this.Survey);\n    this.$store.dispatch(ActionTypes.UpdateSurveyData, this.Survey);\n\n    this.myResults = this.$store.getters.resultDataSections;\n  }\n\n  @Watch(\"$i18n.locale\")\n  changeLanguage(value: string, oldValue: string) {\n    this.Survey.locale = value;\n    this.Survey.render();\n  }\n\n  created() {\n    this.Survey.onComplete.add(result => {\n      // this.$store.commit(\"updateSurveyData\", result);\n      this.$store.dispatch(ActionTypes.UpdateSurveyData, result);\n    });\n\n    this.Survey.onValueChanged.add(result => {\n      // this.$store.commit(\"calculateResult\", result);\n      this.$store.dispatch(ActionTypes.UpdateSurveyData, result);\n    });\n\n    const converter = new showdown.Converter();\n\n    this.Survey.onTextMarkdown.add(function(survey, options) {\n      //convert the markdown text to html\n      var str = converter.makeHtml(options.text);\n      //remove root paragraphs <p></p>\n      str = str.substring(3);\n      str = str.substring(0, str.length - 4);\n      //set html\n      options.html = str;\n    });\n\n    // Set locale\n    this.Survey.locale = i18n.locale;\n\n    // accessibility fix... aria-labelledby being needlessly generated for html question\n    // TODO: make this dynamic by looping over questions and doing this for all html questions\n    this.Survey.onAfterRenderQuestion.add(function(sender, options) {\n      let welcomePage = document.getElementsByName(\"welcome1\");\n      if (welcomePage && welcomePage.length > 0) {\n        let welcomePageElement = welcomePage[0];\n        welcomePageElement.removeAttribute(\"aria-labelledby\");\n      }\n    });\n\n    //if survey is in progress reload from store\n    if (this.$store.getters.inProgress) {\n      this.fileLoaded({\n        currentPage: this.$store.state.currentPageNo,\n        data: this.$store.state.toolData\n      } as SurveyFile);\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Results.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Results.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Results.vue?vue&type=template&id=256d1c7a&\"\nimport script from \"./Results.vue?vue&type=script&lang=ts&\"\nexport * from \"./Results.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}