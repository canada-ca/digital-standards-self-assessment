(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f7b63f6"],{"06c5":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("fb6a"),a("d3b7"),a("b0c0"),a("a630"),a("3ca3"),a("ac1f"),a("00b4");var r=a("6b75");function n(t,e){if(t){if("string"===typeof t)return Object(r["a"])(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(r["a"])(t,e):void 0}}},"1f80":function(t,e,a){},"2d78":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"wb-frmvld",attrs:{id:"surveyContainer"}},[a("survey",{attrs:{survey:t.survey}})],1)])},n=[],o=a("b85c"),i=a("d4ec"),s=a("bee2"),l=a("262e"),u=a("2caf"),c=a("9ab4"),d=a("60a3"),v=a("339e"),f=a.n(v),y=function(t){Object(l["a"])(a,t);var e=Object(u["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(s["a"])(a,[{key:"mounted",value:function(){var t=new f.a.Converter;this.survey.onTextMarkdown.add((function(e,a){var r=t.makeHtml(a.text);r=r.substring(3),r=r.substring(0,r.length-4),a.html=r}));var e,a=Object(o["a"])(document.getElementsByClassName("sv_q_rating_min_text"));try{for(a.s();!(e=a.n()).done;){var r=e.value,n=r.closest("fieldset"),i=document.createElement("LABEL");i.className="rating-min-label",i.appendChild(r),null===n||void 0===n||n.prepend(i)}}catch(v){a.e(v)}finally{a.f()}var s,l=Object(o["a"])(document.getElementsByClassName("sv_q_rating_max_text"));try{for(l.s();!(s=l.n()).done;){var u=s.value,c=u.closest("fieldset"),d=document.createElement("LABEL");d.className="rating-max-label",d.appendChild(u),null===c||void 0===c||c.append(d)}}catch(v){l.e(v)}finally{l.f()}}}]),a}(d["c"]);Object(c["a"])([Object(d["b"])()],y.prototype,"survey",void 0),y=Object(c["a"])([d["a"]],y);var h=y,b=h,m=a("2877"),p=Object(m["a"])(b,r,n,!1,null,null,null);e["a"]=p.exports},"4df4":function(t,e,a){"use strict";var r=a("da84"),n=a("0366"),o=a("c65b"),i=a("7b0b"),s=a("9bdd"),l=a("e95a"),u=a("68ee"),c=a("07fa"),d=a("8418"),v=a("9a1f"),f=a("35a1"),y=r.Array;t.exports=function(t){var e=i(t),a=u(this),r=arguments.length,h=r>1?arguments[1]:void 0,b=void 0!==h;b&&(h=n(h,r>2?arguments[2]:void 0));var m,p,S,g,O,k,w=f(e),j=0;if(!w||this==y&&l(w))for(m=c(e),p=a?new this(m):y(m);m>j;j++)k=b?h(e[j],j):e[j],d(p,j,k);else for(g=v(e,w),O=g.next,p=a?new this:[];!(S=o(O,g)).done;j++)k=b?s(g,h,[S.value,j],!0):S.value,d(p,j,k);return p.length=j,p}},5609:function(t,e,a){},"57e1":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",[a("SurveySectionsContainer",{attrs:{sections:t.sections,survey:t.Survey,"section-recommendation":t.sectionRecommendation}})],1),a("div",{staticClass:"btn-div"},[a("download-survey",{on:{confirmToDownload:t.downloadSurvey}}),a("upload-survey",{on:{surveyDataLoaded:t.onSurveyDataLoaded}})],1)])},n=[],o=a("d4ec"),i=a("bee2"),s=a("262e"),l=a("2caf"),u=(a("d3b7"),a("159b"),a("caad"),a("2532"),a("b0c0"),a("e9c4"),a("9ab4")),c=a("2d78"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-button",{staticClass:"btn btn-primary ml-auto",staticStyle:{"min-width":"500px !important"},attrs:{type:"button"},on:{click:function(e){return t.showFileNameModal()}}},[t._v(" "+t._s(t.$t("downloadUploadSurvey.downloadSurvey"))+" ")]),a("b-modal",{attrs:{id:"file-name-modal",size:"l"},on:{shown:t.focusFileNameInput},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("div",[t._v(t._s(t.$t("downloadUploadSurvey.downloadTitle")))])]},proxy:!0},{key:"default",fn:function(){return[a("b-form",{ref:"form",staticStyle:{margin:"10px"},on:{submit:t.onSubmit}},[a("div",{staticClass:"file-label"},[a("label",[t._v(t._s(t.$t("downloadUploadSurvey.fileName")))]),a("div",{staticClass:"text-right text-danger"},[t._v("* Required")])]),a("b-form-input",{ref:"fileNameInput",staticClass:"form-control",class:{"is-invalid":t.hasError},attrs:{id:"fileNameInput",placeholder:t.$t("downloadUploadSurvey.inputFileName")},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}}),t.hasError?a("div",{staticClass:"text-danger mt-3"},[t._v(" "+t._s(t.$t(t.errorMessage))+" ")]):t._e(),a("input",{ref:"submitButton",staticStyle:{display:"none"},attrs:{type:"submit"}})],1)]},proxy:!0},{key:"modal-footer",fn:function(){return[a("b-button",{staticClass:"btn btn-primary",staticStyle:{width:"120px"},on:{click:function(e){return t.onOkClicked()}}},[t._v(" "+t._s(t.$t("downloadUploadSurvey.OK"))+" ")]),a("b-button",{staticClass:"btn btn-default",staticStyle:{width:"120px","margin-right":"10px !important"},on:{click:function(e){return t.onCancelClicked()}}},[t._v(" "+t._s(t.$t("downloadUploadSurvey.cancel"))+" ")])]},proxy:!0}])})],1)},v=[],f=a("2b0e"),y=a("2fe1"),h=function(t){Object(s["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.fileName="",t.hasError=!1,t.errorMessage="",t}return Object(i["a"])(a,[{key:"showFileNameModal",value:function(){this.fileName="",this.hasError=!1,this.errorMessage="",this.$bvModal.show("file-name-modal")}},{key:"focusFileNameInput",value:function(){this.$refs.fileNameInput.focus()}},{key:"onOkClicked",value:function(){this.$refs.submitButton.click()}},{key:"onSubmit",value:function(t){if(t.preventDefault(),0==this.fileName.length)return this.hasError=!0,void(this.errorMessage="validation.fileName.required");this.$emit("confirmToDownload",this.fileName),this.$bvModal.hide("file-name-modal")}},{key:"onCancelClicked",value:function(){this.$bvModal.hide("file-name-modal")}}]),a}(f["default"]);h=Object(u["a"])([Object(y["b"])({})],h);var b=h,m=b,p=(a("b610"),a("2877")),S=Object(p["a"])(m,d,v,!1,null,"74b5d6e5",null),g=S.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v(t._s(t.$t("survey.currentSurveyResults")))]),t._l(t.sections,(function(e){return a("SurveySectionCard",{key:e.id,attrs:{section:e,survey:t.survey}})}))],2)},k=[],w=a("60a3"),j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"survey-card-container"},[a("div",{staticClass:"survey-card",attrs:{"img-top":""}},[a("div",{staticClass:"icon-container"},[a("i",{class:t.setStatusIcon(t.section.name)})]),a("div",{staticStyle:{flex:"auto"}},[a("div",{staticClass:"survey-title"},[a("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.goToSection(t.section.name)},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:t.goToSection(t.section.name)}}},[t._v(t._s(t.section.title))])]),a("transition",{attrs:{name:"collapsed",mode:"out-in"}},[t.collapsed?t._e():a("div",{staticClass:"mt-3"},[a("p",{staticStyle:{"font-size":"16px"}},[t._v(" "+t._s(t.getShortDescription(t.section.description))+" ")]),a("span",{staticStyle:{color:"#395072","font-weight":"700"}},[t._v(" "+t._s(t.$t("survey.currentScore"))+" : "+t._s(t.sectionScoreLevel(t.section.name))+" ")])])])],1)]),a("div",{staticClass:"show-hide-container"},[a("show-hide-link",{attrs:{hide:!0},on:{onToggled:function(e){return t.toggleCollapsed()}}})],1)])},_=[],x=a("fc60"),$=a("fc33"),C=function(t){Object(s["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.collapsed=!0,t}return Object(i["a"])(a,[{key:"toggleCollapsed",value:function(){this.collapsed=!this.collapsed}},{key:"goToSection",value:function(t){this.survey.currentPage=t,this.$store.dispatch(x["a"].UpdateSurveyData,this.survey),this.$store.dispatch(x["a"].UpdateCurrentPageName,t),this.$router.push("/questions")}},{key:"getShortDescription",value:function(t){var e=280;return t.length<=e?t:t.substr(0,t.lastIndexOf(" ",e))+"... "}},{key:"sectionScoreLevel",value:function(t){var e=this.$store.getters.returnSectionByName(t);if(void 0===e)return"N/A";var a=new Intl.NumberFormat("en-CA",{style:"decimal",maximumFractionDigits:0}).format(e.userScore/e.maxScore*100);return"NaN"===a||"0"===a?"N/A":a+"%"}},{key:"setStatusIcon",value:function(t){var e=this.$store.getters.returnSectionByName(t);return void 0!==e&&e.userScore>0?"fa fa-2x fa-circle":"zero fa fa-2x fa-circle"}}]),a}(w["c"]);Object(u["a"])([Object(w["b"])()],C.prototype,"section",void 0),Object(u["a"])([Object(w["b"])()],C.prototype,"survey",void 0),C=Object(u["a"])([Object(w["a"])({components:{ShowHideLink:$["a"]}})],C);var D=C,N=D,E=(a("a43c"),Object(p["a"])(N,j,_,!1,null,"1f1119a1",null)),F=E.exports,M=function(t){Object(s["a"])(a,t);var e=Object(l["a"])(a);function a(){return Object(o["a"])(this,a),e.apply(this,arguments)}return Object(i["a"])(a)}(w["c"]);Object(u["a"])([Object(w["b"])()],M.prototype,"sections",void 0),Object(u["a"])([Object(w["b"])()],M.prototype,"survey",void 0),Object(u["a"])([Object(w["b"])()],M.prototype,"sectionRecommendation",void 0),M=Object(u["a"])([Object(w["a"])({components:{SurveySectionCard:F}})],M);var U=M,A=U,L=Object(p["a"])(A,O,k,!1,null,null,null),T=L.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-button",{staticClass:"btn btn-primary",staticStyle:{"min-width":"500px !important"},attrs:{type:"button"},on:{click:function(e){return t.showUploadSurveyDialog()}}},[t._v(" "+t._s(t.$t("downloadUploadSurvey.uploadSurvey"))+" ")]),a("b-modal",{attrs:{id:"load-loacal-survey-modal",size:"xl"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("div",{domProps:{innerHTML:t._s(t.$t("downloadUploadSurvey.title"))}})]},proxy:!0},{key:"default",fn:function(){return[a("div",{staticClass:"form-group",class:{"was-validated":t.hasError}},[a("textarea",{staticClass:"form-control",class:{"is-invalid":t.hasError},attrs:{readonly:"",id:"surveyDataInput",rows:"5",required:"",placeholder:t.$t("downloadUploadSurvey.surveyData")},domProps:{value:t.surveyDataForDisplay}}),t.hasError?a("div",{staticClass:"text-danger mt-3"},[t._v(" "+t._s(t.$t(t.errorMessage,{fileName:t.surveyData.fileName}))+" ")]):t._e()])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("div",[a("input",{ref:"fileUpload",staticClass:"btn btn-default mr-auto",staticStyle:{opacity:"0",height:"0px",width:"0px"},attrs:{id:"fileInput",type:"file",value:"Load",tabindex:"-1"},on:{change:function(e){return t.onFileChanged(e)}}}),a("b-button",{staticClass:"btn btn-primary upload-button",on:{click:function(e){return t.selectFile(e)}}},[t._v(t._s(t.$t("downloadUploadSurvey.browse")))])],1),a("b-form-checkbox",{staticClass:"m-auto",attrs:{switch:"",size:"lg"},on:{change:t.onToggleFormat},model:{value:t.format,callback:function(e){t.format=e},expression:"format"}},[t._v(" "+t._s(t.$t("downloadUploadSurvey.format"))+" ")]),a("b-button",{staticClass:"btn btn-primary",staticStyle:{width:"120px"},on:{click:t.uploadSurveyData}},[t._v(" "+t._s(t.$t("downloadUploadSurvey.OK"))+" ")]),a("b-button",{staticClass:"btn btn-default",staticStyle:{width:"120px"},on:{click:function(e){return t.cancel()}}},[t._v(" "+t._s(t.$t("downloadUploadSurvey.cancel"))+" ")])]},proxy:!0}])})],1)},P=[],J=function(t){Object(s["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.surveyData={},t.surveyDataForDisplay="",t.hasError=!1,t.format=!1,t.errorMessage="",t}return Object(i["a"])(a,[{key:"showUploadSurveyDialog",value:function(){this.$bvModal.show("load-loacal-survey-modal")}},{key:"uploadSurveyData",value:function(){if(!this.surveyData||!this.surveyData.name)return this.hasError=!0,void(this.errorMessage="validation.file.required");this.$emit("surveyDataLoaded",this.surveyData),this.$bvModal.hide("load-loacal-survey-modal")}},{key:"cancel",value:function(){this.$bvModal.hide("load-loacal-survey-modal")}},{key:"selectFile",value:function(t){var e;null===(e=document.getElementById("fileInput"))||void 0===e||e.click()}},{key:"onFileChanged",value:function(t){if(null!==t&&null!==t.target&&null!==t.dataTransfer){var e=t.target,a=e.files||t.dataTransfer.files;0!==a.length&&this.loadSurveyFromFile(a[0])}}},{key:"onToggleFormat",value:function(){this.surveyData&&this.surveyData.name&&(this.surveyDataForDisplay=this.format?JSON.stringify(this.surveyData,null,4):JSON.stringify(this.surveyData))}},{key:"loadSurveyFromFile",value:function(t){var e=this,a=new FileReader;a.onload=function(r){var n=a.result;if("undefined"===n)return e.hasError=!0,e.errorMessage="validation.file.format",e.$refs.fileUpload.value="",e.surveyData={fileName:t.name,hasError:!0,errorMessage:"validation.file.format"},void(e.surveyDataForDisplay="");try{e.surveyData=JSON.parse(n),e.surveyData.fileName=t.name,e.surveyDataForDisplay=e.format?JSON.stringify(e.surveyData,null,4):JSON.stringify(e.surveyData),e.errorMessage="",e.hasError=!1}catch(r){e.$refs.fileUpload.value="",e.surveyData={fileName:t.name,hasError:!0,errorMessage:"validation.file.format"},e.surveyDataForDisplay="",e.hasError=!0,e.errorMessage="validation.file.format"}},a.readAsText(t)}}]),a}(f["default"]);J=Object(u["a"])([y["b"]],J);var B=J,R=B,q=(a("96fb"),Object(p["a"])(R,I,P,!1,null,"4d000c6c",null)),z=q.exports,H=a("fe0b"),Q=a("6737"),K=a("7570"),V=a("339e"),G=a.n(V),W=a("1b6e"),X=function(t){Object(s["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.Survey=new W["Model"]({}),t.sections=t.returnAllSectionsByPrefix(t.Survey,"section_"),t.sectionRecommendation=K.sectionRecommendations,t}return Object(i["a"])(a,[{key:"fileLoaded",value:function(t){this.Survey.data=t.data,this.Survey.currentPageNo=t.currentPage,this.Survey.start(),this.$store.dispatch(x["a"].UpdateSurveyData,this.Survey),this.Survey.render()}},{key:"loadQeustions",value:function(t,e){this.Survey.clear(!0,!0);for(var a=this.Survey.PageCount,r=0;r<a;r++)this.Survey.removePage(this.Survey.pages[0]);this.Survey.fromJSON(t),this.Survey.data=e,this.sections=this.returnAllSectionsByPrefix(this.Survey,"section_"),this.$store.dispatch(x["a"].UseSurveyJSON,{surveyJSON:t,surveyModel:this.Survey})}},{key:"returnAllSectionsByPrefix",value:function(t,e){var a=[];return t.pages.forEach((function(t){t.name.includes(e)&&a.push(t)})),a}},{key:"changeLanguage",value:function(t,e){this.Survey.locale=t,this.Survey.render()}},{key:"created",value:function(){var t=this,e=this.$store.getters.returnSurveyJSON;e||(e=Q),this.loadQeustions(e,this.$store.getters.returnToolData),this.Survey.css={navigationButton:"btn survey-button"},this.Survey.onComplete.add((function(e){t.$store.dispatch(x["a"].UpdateSurveyData,e),t.$router.push("/results")}));var a=new G.a.Converter;this.Survey.onTextMarkdown.add((function(t,e){var r=a.makeHtml(e.text);r=r.substring(3),r=r.substring(0,r.length-4),e.html=r})),this.Survey.locale=H["a"].locale,this.$store.getters.inProgress&&this.fileLoaded({currentPage:this.$store.state.currentPageNo,data:this.$store.state.toolData})}},{key:"buildSurveyFile",value:function(){return JSON.stringify({name:"surveyResults",version:this.$store.state.toolVersion,currentPage:this.$store.state.currentPageNo,data:this.$store.state.toolData,surveyJSON:this.$store.state.surveyJSON})}},{key:"downloadSurvey",value:function(t){var e="data:text/json;charset=utf-8,"+this.buildSurveyFile(),a=document.createElement("a");a.setAttribute("href",e),a.setAttribute("download",t+".json"),document.body.appendChild(a),a.click(),a.remove()}},{key:"onSurveyDataLoaded",value:function(t){this.loadQeustions(t.surveyJSON,t.data),this.fileLoaded(t)}}]),a}(w["c"]);Object(u["a"])([Object(w["d"])("$i18n.locale")],X.prototype,"changeLanguage",null),X=Object(u["a"])([Object(w["a"])({components:{AssessmentTool:c["a"],SurveySectionsContainer:T,UploadSurvey:z,DownloadSurvey:g}})],X);var Y=X,Z=Y,tt=(a("ba3a"),Object(p["a"])(Z,r,n,!1,null,"d2fdf44e",null));e["default"]=tt.exports},"6b75":function(t,e,a){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}a.d(e,"a",(function(){return r}))},"96fb":function(t,e,a){"use strict";a("5609")},"9bdd":function(t,e,a){var r=a("825a"),n=a("2a62");t.exports=function(t,e,a,o){try{return o?e(r(a)[0],a[1]):e(a)}catch(i){n(t,"throw",i)}}},a051:function(t,e,a){},a248:function(t,e,a){},a43c:function(t,e,a){"use strict";a("a051")},a630:function(t,e,a){var r=a("23e7"),n=a("4df4"),o=a("1c7e"),i=!o((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:i},{from:n})},b610:function(t,e,a){"use strict";a("1f80")},b85c:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("d9e2");var r=a("06c5");function n(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=Object(r["a"])(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){l=!0,i=t},f:function(){try{s||null==a["return"]||a["return"]()}finally{if(l)throw i}}}}},ba3a:function(t,e,a){"use strict";a("a248")}}]);
//# sourceMappingURL=chunk-1f7b63f6.666ba7f0.js.map